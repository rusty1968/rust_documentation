<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="601px" preserveAspectRatio="none" style="width:260px;height:601px;background:#FFFFFF;" version="1.1" viewBox="0 0 260 601" width="260px" zoomAndPan="magnify"><defs/><g><!--class Bus--><g id="elem_Bus"><rect fill="#F1F1F1" height="48" id="Bus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="49" y="39.5"/><ellipse cx="64" cy="55.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M66.3438,51.1719 C65.4063,50.7344 64.8125,50.5938 63.9375,50.5938 C61.3125,50.5938 59.3125,52.6719 59.3125,55.3906 L59.3125,56.5156 C59.3125,59.0938 61.4219,60.9844 64.3125,60.9844 C65.5313,60.9844 66.6875,60.6875 67.4375,60.1406 C68.0156,59.7344 68.3438,59.2813 68.3438,58.8906 C68.3438,58.4375 67.9531,58.0469 67.4844,58.0469 C67.2656,58.0469 67.0625,58.125 66.875,58.3125 C66.4219,58.7969 66.4219,58.7969 66.2344,58.8906 C65.8125,59.1563 65.125,59.2813 64.3594,59.2813 C62.3125,59.2813 61.0156,58.1875 61.0156,56.4844 L61.0156,55.3906 C61.0156,53.6094 62.2656,52.2969 64,52.2969 C64.5781,52.2969 65.1875,52.4531 65.6563,52.7031 C66.1406,52.9844 66.3125,53.2031 66.4063,53.6094 C66.4688,54.0156 66.5,54.1406 66.6406,54.2656 C66.7813,54.4063 67.0156,54.5156 67.2344,54.5156 C67.5,54.5156 67.7656,54.375 67.9375,54.1563 C68.0469,54 68.0781,53.8125 68.0781,53.3906 L68.0781,51.9688 C68.0781,51.5313 68.0625,51.4063 67.9688,51.25 C67.8125,50.9844 67.5313,50.8438 67.2344,50.8438 C66.9375,50.8438 66.7344,50.9375 66.5156,51.25 L66.3438,51.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="78" y="60.3467">Bus</text><line style="stroke:#181818;stroke-width:0.5;" x1="50" x2="105" y1="71.5" y2="71.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="50" x2="105" y1="79.5" y2="79.5"/></g><!--class MailboxIface--><g id="elem_MailboxIface"><rect codeLine="3" fill="#F1F1F1" height="125.4844" id="MailboxIface" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="7" y="180"/><ellipse cx="30.55" cy="196" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M32.8938,191.6719 C31.9563,191.2344 31.3625,191.0938 30.4875,191.0938 C27.8625,191.0938 25.8625,193.1719 25.8625,195.8906 L25.8625,197.0156 C25.8625,199.5938 27.9719,201.4844 30.8625,201.4844 C32.0813,201.4844 33.2375,201.1875 33.9875,200.6406 C34.5656,200.2344 34.8938,199.7813 34.8938,199.3906 C34.8938,198.9375 34.5031,198.5469 34.0344,198.5469 C33.8156,198.5469 33.6125,198.625 33.425,198.8125 C32.9719,199.2969 32.9719,199.2969 32.7844,199.3906 C32.3625,199.6563 31.675,199.7813 30.9094,199.7813 C28.8625,199.7813 27.5656,198.6875 27.5656,196.9844 L27.5656,195.8906 C27.5656,194.1094 28.8156,192.7969 30.55,192.7969 C31.1281,192.7969 31.7375,192.9531 32.2063,193.2031 C32.6906,193.4844 32.8625,193.7031 32.9563,194.1094 C33.0188,194.5156 33.05,194.6406 33.1906,194.7656 C33.3313,194.9063 33.5656,195.0156 33.7844,195.0156 C34.05,195.0156 34.3156,194.875 34.4875,194.6563 C34.5969,194.5 34.6281,194.3125 34.6281,193.8906 L34.6281,192.4688 C34.6281,192.0313 34.6125,191.9063 34.5188,191.75 C34.3625,191.4844 34.0813,191.3438 33.7844,191.3438 C33.4875,191.3438 33.2844,191.4375 33.0656,191.75 L32.8938,191.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="46.45" y="200.8467">MailboxIface</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="147" y1="212" y2="212"/><ellipse cx="18" cy="245.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="27" y="249.292">read_lock()</text><ellipse cx="18" cy="262.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="27" y="265.5889">write_cmd()</text><ellipse cx="18" cy="278.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="27" y="281.8857">write_data_len()</text><ellipse cx="18" cy="294.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="27" y="298.1826">write_exec()</text><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="26" y1="228.1484" y2="228.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="8" x2="26" y1="230.1484" y2="230.1484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="26" y="232.4951">Event triggers</text><line style="stroke:#181818;stroke-width:1.0;" x1="129" x2="147" y1="228.1484" y2="228.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="129" x2="147" y1="230.1484" y2="230.1484"/></g><!--class Events--><g id="elem_Events"><rect codeLine="11" fill="#F1F1F1" height="113.1875" id="Events" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="141.5" y="7"/><ellipse cx="170.45" cy="23" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M169.2469,23.875 L170.7,23.875 L170.7,23.9844 C170.7,24.3906 170.7313,24.5469 170.8094,24.7031 C170.9656,24.9531 171.2469,25.1094 171.5438,25.1094 C171.7938,25.1094 172.0594,24.9688 172.2156,24.75 C172.3406,24.5938 172.3719,24.4375 172.3719,23.9844 L172.3719,22.0625 C172.3719,21.9063 172.3719,21.8594 172.3563,21.7031 C172.2938,21.2344 171.9813,20.9219 171.5281,20.9219 C171.2781,20.9219 171.0125,21.0625 170.8406,21.2813 C170.7313,21.4531 170.7,21.6094 170.7,22.0625 L170.7,22.1875 L169.2469,22.1875 L169.2469,19.7813 L173.2313,19.7813 L173.2313,20.6406 C173.2313,21.0469 173.2625,21.2188 173.3406,21.375 C173.5125,21.625 173.7938,21.7813 174.075,21.7813 C174.3406,21.7813 174.6063,21.6406 174.7781,21.4219 C174.8875,21.25 174.9188,21.1094 174.9188,20.6406 L174.9188,18.0938 L167.2938,18.0938 C166.8563,18.0938 166.7313,18.1094 166.575,18.2031 C166.325,18.3594 166.1688,18.6563 166.1688,18.9375 C166.1688,19.2188 166.3094,19.4688 166.5281,19.6406 C166.6844,19.75 166.8719,19.7813 167.2938,19.7813 L167.5438,19.7813 L167.5438,26.2969 L167.2938,26.2969 C166.8875,26.2969 166.7313,26.3125 166.575,26.4219 C166.325,26.5938 166.1688,26.8594 166.1688,27.1563 C166.1688,27.4219 166.3094,27.6719 166.5281,27.8281 C166.6688,27.9531 166.9031,28 167.2938,28 L175.2938,28 L175.2938,25.4219 C175.2938,24.9844 175.2625,24.8438 175.1844,24.6875 C175.0125,24.4375 174.7313,24.2813 174.45,24.2813 C174.1844,24.2813 173.9188,24.3906 173.7469,24.6406 C173.6375,24.7969 173.6063,24.9375 173.6063,25.4219 L173.6063,26.2969 L169.2469,26.2969 L169.2469,23.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="187.55" y="27.8467">Events</text><line style="stroke:#181818;stroke-width:0.5;" x1="142.5" x2="252.5" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="147.5" y="55.9951">LockRead,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="147.5" y="72.292">CmdWrite,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="147.5" y="88.5889">DataLenWrite</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="147.5" y="104.8857">ExecWrite</text><line style="stroke:#181818;stroke-width:0.5;" x1="142.5" x2="252.5" y1="112.1875" y2="112.1875"/></g><!--class StateMachine--><g id="elem_StateMachine"><rect codeLine="18" fill="#F1F1F1" height="72.5625" id="StateMachine" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="7" y="365"/><ellipse cx="26.5" cy="385.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M28.8438,380.8047 C27.9063,380.3672 27.3125,380.2266 26.4375,380.2266 C23.8125,380.2266 21.8125,382.3047 21.8125,385.0234 L21.8125,386.1484 C21.8125,388.7266 23.9219,390.6172 26.8125,390.6172 C28.0313,390.6172 29.1875,390.3203 29.9375,389.7734 C30.5156,389.3672 30.8438,388.9141 30.8438,388.5234 C30.8438,388.0703 30.4531,387.6797 29.9844,387.6797 C29.7656,387.6797 29.5625,387.7578 29.375,387.9453 C28.9219,388.4297 28.9219,388.4297 28.7344,388.5234 C28.3125,388.7891 27.625,388.9141 26.8594,388.9141 C24.8125,388.9141 23.5156,387.8203 23.5156,386.1172 L23.5156,385.0234 C23.5156,383.2422 24.7656,381.9297 26.5,381.9297 C27.0781,381.9297 27.6875,382.0859 28.1563,382.3359 C28.6406,382.6172 28.8125,382.8359 28.9063,383.2422 C28.9688,383.6484 29,383.7734 29.1406,383.8984 C29.2813,384.0391 29.5156,384.1484 29.7344,384.1484 C30,384.1484 30.2656,384.0078 30.4375,383.7891 C30.5469,383.6328 30.5781,383.4453 30.5781,383.0234 L30.5781,381.6016 C30.5781,381.1641 30.5625,381.0391 30.4688,380.8828 C30.3125,380.6172 30.0313,380.4766 29.7344,380.4766 C29.4375,380.4766 29.2344,380.5703 29.0156,380.8828 L28.8438,380.8047 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="55.5" y="381.1387">«Singleton»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="41.5" y="396.9639">StateMachine</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="147" y1="405.2656" y2="405.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="147" y1="413.2656" y2="413.2656"/><ellipse cx="18" cy="426.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="27" y="430.2607">process_event()</text></g><!--class Context--><g id="elem_Context"><rect codeLine="22" fill="#F1F1F1" height="96.8906" id="Context" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="24.5" y="498"/><ellipse cx="46.25" cy="514" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M48.5938,509.6719 C47.6563,509.2344 47.0625,509.0938 46.1875,509.0938 C43.5625,509.0938 41.5625,511.1719 41.5625,513.8906 L41.5625,515.0156 C41.5625,517.5938 43.6719,519.4844 46.5625,519.4844 C47.7813,519.4844 48.9375,519.1875 49.6875,518.6406 C50.2656,518.2344 50.5938,517.7813 50.5938,517.3906 C50.5938,516.9375 50.2031,516.5469 49.7344,516.5469 C49.5156,516.5469 49.3125,516.625 49.125,516.8125 C48.6719,517.2969 48.6719,517.2969 48.4844,517.3906 C48.0625,517.6563 47.375,517.7813 46.6094,517.7813 C44.5625,517.7813 43.2656,516.6875 43.2656,514.9844 L43.2656,513.8906 C43.2656,512.1094 44.5156,510.7969 46.25,510.7969 C46.8281,510.7969 47.4375,510.9531 47.9063,511.2031 C48.3906,511.4844 48.5625,511.7031 48.6563,512.1094 C48.7188,512.5156 48.75,512.6406 48.8906,512.7656 C49.0313,512.9063 49.2656,513.0156 49.4844,513.0156 C49.75,513.0156 50.0156,512.875 50.1875,512.6563 C50.2969,512.5 50.3281,512.3125 50.3281,511.8906 L50.3281,510.4688 C50.3281,510.0313 50.3125,509.9063 50.2188,509.75 C50.0625,509.4844 49.7813,509.3438 49.4844,509.3438 C49.1875,509.3438 48.9844,509.4375 48.7656,509.75 L48.5938,509.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="61.75" y="518.8467">Context</text><line style="stroke:#181818;stroke-width:0.5;" x1="25.5" x2="129.5" y1="530" y2="530"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="32.5" y="540.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="44.5" y="546.9951">ring_buffer</text><line style="stroke:#181818;stroke-width:0.5;" x1="25.5" x2="129.5" y1="554.2969" y2="554.2969"/><ellipse cx="35.5" cy="567.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="44.5" y="571.292">enqueue()</text><ellipse cx="35.5" cy="584.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="44.5" y="587.5889">dequeue()</text></g><!--reverse link Bus to MailboxIface--><g id="link_Bus_MailboxIface"><path codeLine="1" d="M77.5,107.753 C77.5,129.444 77.5,156.097 77.5,179.885 " fill="none" id="Bus-backto-MailboxIface" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="70.5001,107.64,77.5,87.64,84.5001,107.64,70.5001,107.64" style="stroke:#181818;stroke-width:1.0;"/></g><!--link MailboxIface to StateMachine--><g id="link_MailboxIface_StateMachine"><path codeLine="28" d="M77.5,305.1 C77.5,323.473 77.5,343.143 77.5,359.821 " fill="none" id="MailboxIface-to-StateMachine" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="77.5,364.896,81.5,355.896,77.5,359.896,73.5,355.896,77.5,364.896" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link StateMachine to Context--><g id="link_StateMachine_Context"><path codeLine="29" d="M77.5,451.484 C77.5,466.476 77.5,482.939 77.5,497.8411 " fill="none" id="StateMachine-backto-Context" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="77.5,438.216,73.5,444.216,77.5,450.216,81.5,444.216,77.5,438.216" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[LP3DJiCm48JlVWeVGSLlaEP0wG6flT03Hykr9y72iOj_saZGTsUTyDFSTaQxtupsiIJUV0d1zygwOnYVEwN1c7OgfON7FnddwpNVdk4ppz7sFM8YX-nLX3BI1Vr-Tr_b9TeCgGTpAutAIZhuMmyZTDLNnk3BCCFJ5BKZsWjX7sZU3EQrxjVvYJ0x-4cJt19Xdg-_hGzPPUoLVhCUl6aErlSEEVYsdS2hKmmQAKdKC4h_Ezm4dp7cUGl-ew1WRclmBqGae3oMhaEijuid2T4kyjcYJA0__uHy0m00]--></g></svg>